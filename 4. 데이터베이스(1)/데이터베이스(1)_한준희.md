# 데이터베이스(1)

## 목차

### 4.1 데이터베이스의 기본

- 4.1.1 엔터티
- 4.1.2 릴레이션
- 4.1.3 속성
- 4.1.4 도메인
- 4.1.5 필드와 레코드
- 4.1.6 관계
- 4.1.7 키

---

# 4.1 데이터베이스의 기본

데이터베이스(DB, DataBase)는 일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음이다. 해당 데이터 베이스를 제어, 관리하는 통합 시스템을 **DBMS**라고 하며, 데이터베이스 안의 데이터들은 특정 DBMS마다 정의된 쿼리언어를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있다.

## 4.1.1 엔터티

엔터티(entity) - 사람, 장소, 물건, 사건, 개념 등 여러개의 속성을 가진 명사를 의미한다.

### 약한 엔터티와 강한 엔터티

약한 엔티티 : 혼자서는 존재하지 못하고 다른 엔터티의 존재 여부에 따라 종속적인 엔티티.
스스로 존재할 수 있다면 강한 엔터티이다.

## 4.1.2 릴레이션

릴레이션(relation) - 데이터베이스에서 정보를 구분하여 저장하는 기본 단위이다.

관계형 DB에서는 '테이블'이라고 하며, NoSQL DB에서는 '컬렉션'이라고 한다.

## 4.1.3 속성

속성(attribute) - 릴레이션에서 관리하는 구체적이고 고유한 이름을 갖는 정보이다.

## 4.1.4 도메인

도메인(domain) - 릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합을 말한다.

## 4.1.5 필드와 레코드

열끼리 종류가 같은 표에서, 각 행을 레코드 또는 튜플이라고 한다.

각각의 레코드는 여러개의 필드의 값으로 구성되어 있고, 레코드의 집합이 하나의 릴레이션을 구성한다.

필드의 속성을 나타낼때 보통 한글을 속성 이름으로 쓰지는 않는다. 영어 이름에 매핑해서 쓴다.

### 필드 타입

필드는 타입을 갖고 DBMS마다 다르다.
MySQL을 기준으로 숫자, 날짜, 문자 타입 등이 있다.

- 숫자 타입
- 날짜 타입
  - DATE : 날짜는 있지만 시간은 없는 값, 3바이트
  - DATETIME : 날짜 및 시간 부분을 모두 포함하는 값, 8바이트
  - TIMESTAMP : 날짜 및 시간 부분을 모두 포함하는 값, 4바이트
- 문자 타입

  - CHAR : 테이블을 생성할 때 선언한 길이로 고정, 저장할때 선언한 길이 값으로 고정해서 저장된다.
  - VARCHAR : 가변길이 문자열이다. 입력된 데이터에 따라 용량이 변한다.

    CHAR-> Array, VARCHAR->Vector 같은 느낌

    #### 큰 데이터

  - TEXT : 큰 문자열 저장에 쓰고, 주로 게시판의 본문을 저장할 때 쓴다.
  - BLOB : 이미지, 동영상 등 큰 데이터 저장에 쓴다. 그러나 보통은 이미지호스팅 서비스나 서버에 파일을 올리고 파일에 관한 경로를 VARCHAR로 저장하는 다른 방법을 쓴다.

    #### 문자열 열거

  - ENUM : ENUM('x-small', 'small', 'medium', 'large', 'x-large') 형태로 쓰인다. 단일 선택만 가능하고 잘못된 값을 삽입시 빈 문자열이 삽입된다. 최디 65535 개의 요소들을 넣을 수 있다.
  - SET : ENUM과 비슷하지만 여러 개의 데이터를 선택할 수 있고 비트 단위의 연산을 할 수 있다.

## 4.1.6 관계

테이블 간의 관계에는

- 1:1 관계
- 1:N 관계
- N:M 관계

이런 종류가 존재한다.

## 4.1.7 키

테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치로 기본키, 외래키, 후보키, 슈퍼키, 대체키가 있다.

**유일성** : 중복되는 값이 없는 것
**최소성** : 필드를 조합하지 않고 최소 필드만 써서 키를 형성할 수 있는 것

### 기본키

유일성과 최소성을 만족하는 키이다.

#### 자연키

중복된 값들을 제외해며 중복되지 않는 것을 '자연스레' 뽑다가 나오는 키를 자연키라고 한다. **자연키는 언젠가는 변한다**.

#### 인조키

고유 식별자를 생성해 인위적으로 생성한 키를 인조키라고 한다.
자연키와는 다르게 변하지 않는다. 따라서 보통 기본키는 인조키로 설정한다.

### 외래키

다른 테이블의 기본키를 그대로 참조하는 값으로 개체와의 관계를 식별하는 데 사용한다. 중복되어도 괜찮다.

### 후보키

기본키가 될 수 있는 후보들이며 유일성과 최소성을 동시에 만족하는 키이다.

### 대체키

후보키가 두 개 이상일 경우 어느 하나를 기본키로 지정하고 남은 후보키들을 말한다.

### 슈퍼키

각 레코드를 유일하게 식별할 수 있는 유일성을 갖춘 키이다.
