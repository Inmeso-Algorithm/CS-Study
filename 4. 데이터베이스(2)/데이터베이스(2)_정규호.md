# 4. 데이터베이스

## 목차

2. ERD와 정규화 과정
3. 트랜잭션과 무결성

## 2. ERD와 정규화 과정

### 1. ERD

Entity-Relation Diagram의 약자로, DB를 설계할 때 가장 기본적인 테이블 (relation) 간 관계를 정의하는 다이어그램입니다.

- 관계형 DB를 표시하기에 매우 유리
- 비정형 DB (NoSQL)에는 적합하지 않다.

### 2. 정규화 (Normalisation)

정의: 릴레이션 간의 종속 관계를 바로잡아 중복 데이터를 제거하고, 데이터 정합성 (integrity)을 만족하도록 릴레이션을 여러 개로 나누는 과정을 뜻합니다.  
예를 들어, 회원 정보 테이블도 사용자 닉네임을 가지고 있고, 게시글 테이블, 댓글 테이블도 각자 사용자 닉네임을 가지고 있는데, 사용자 닉네임이 변경된다면? 정규화가 제대로 되어 있지 않은 상태에서는 모든 테이블에 기록된 닉네임을 하나하나 수정해야 합니다.

정규형의 원칙이란,

- 같은 의미를 표현하는 릴레이션이지민 좀 더 좋은 구조로 만들어야 하고,
- 자료의 중복성이 감소해야 하고,
- 독립적인 관계는 별개의 릴레이션으로 표현이 가능해야 합니다.

정규형에는 제1정규형, 제2정규형, 제3정규형, BCNF, 제4정규형, 제5정규형이 존재합니다.

### 3. 제1정규형

정의: 모든 도메인이 더 이상 분해될 수 없는 원자값 (atomic)으로만 구성되어 있는 상태를 제1정규형이라고 합니다.

| commentId | userName | comment           |
| --------- | -------- | ----------------- |
| 1         | planPt   | {아 ㅋㅋ}, {링컨} |

위와 같은 테이블은 제1정규화 진행이 되어 있지 않습니다. comment라는 속성에 값이 2개 이상 존재하는 경우가 존재합니다.  
아래와 같이 제1정규화를 진행할 수 있습니다.

| commentId | userName | comment |
| --------- | -------- | ------- |
| 1         | planPt   | 아 ㅋㅋ |
| 2         | planPt   | 링컨    |

## 3. 트랜잭션과 무결성
